"use strict";(self["webpackChunkecommerce_admin"]=self["webpackChunkecommerce_admin"]||[]).push([[287],{6287:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Q});var n=a(3673),l=a(8880);const i={class:"row q-gutter-sm"},o={class:"col-xs-12 col-sm-3"},u=(0,n._)("div",{class:"text-subtitle2"},"Nuevo Destino",-1);function s(e,t,a,s,r,c){const d=(0,n.up)("q-icon"),m=(0,n.up)("q-card-section"),p=(0,n.up)("q-card"),f=(0,n.up)("destination-widget"),v=(0,n.up)("q-chip"),w=(0,n.up)("q-input"),b=(0,n.up)("q-btn"),g=(0,n.up)("q-card-actions"),k=(0,n.up)("q-form"),q=(0,n.up)("q-dialog"),D=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(D,{padding:"",class:"q-gutter-y-xs"},{default:(0,n.w5)((()=>[(0,n._)("div",i,[(0,n._)("div",o,[(0,n.Wm)(p,{class:"cursor-pointer",onClick:e.newDest},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{class:"text-h6 text-center"},{default:(0,n.w5)((()=>[(0,n._)("div",null,[(0,n.Wm)(d,{size:"lg",name:"mdi-plus"})]),u])),_:1})])),_:1},8,["onClick"])]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.destinations,((t,a)=>((0,n.wg)(),(0,n.iD)("div",{class:"col-xs-12 col-sm-3",key:`dest-${a}`},[(0,n.Wm)(f,{class:"cursor-pointer",destination:t,onClick:a=>e.editDest(t)},null,8,["destination","onClick"])])))),128))]),(0,n.Wm)(q,{modelValue:e.editDestinationPopup,"onUpdate:modelValue":t[3]||(t[3]=t=>e.editDestinationPopup=t)},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{style:{"min-width":"20rem",width:"30rem"}},{default:(0,n.w5)((()=>["update"===e.formMode?((0,n.wg)(),(0,n.j4)(m,{key:0,class:"q-pa-none q-ma-none"},{default:(0,n.w5)((()=>[(0,n.Wm)(v,{style:{"z-index":"100"},clickable:"",class:"float-right","text-color":"negative",icon:"mdi-delete",onClick:t[0]||(t[0]=t=>e.remove(e.form.id))})])),_:1})):(0,n.kq)("",!0),(0,n.Wm)(k,{onSubmit:(0,l.iM)(e.onSubmit,["prevent"]),class:"q-gutter-md"},{default:(0,n.w5)((()=>[(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(w,{modelValue:e.form.name,"onUpdate:modelValue":t[1]||(t[1]=t=>e.form.name=t),type:"text",label:"Nombre"},null,8,["modelValue"]),(0,n.Wm)(w,{modelValue:e.form.price,"onUpdate:modelValue":t[2]||(t[2]=t=>e.form.price=t),type:"number",min:"0",step:"0.01",label:"Precio"},null,8,["modelValue"])])),_:1}),(0,n.Wm)(g,null,{default:(0,n.w5)((()=>[(0,n.Wm)(b,{label:""+("create"===e.formMode?"Crear":"Actualizar"),type:"submit",color:"primary","text-color":"dark"},null,8,["label"])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1},8,["modelValue"])])),_:1})}var r=a(1959),c=a(8872),d=a(8825),m=a(9582),p=a(1239);const f=(0,n.aZ)({name:"DestinationsPage",components:{"destination-widget":(0,n.RC)((()=>a.e(553).then(a.bind(a,9553))))},setup(){const e=(0,c.Ey)(c.xj),t=(0,d.Z)(),a=(0,m.tv)(),{errorHandler:l}=(0,p.y)(t,a);(0,n.wF)((()=>{e.listDestination()}));const i=(0,r.Fl)((()=>e.destinations)),o=(0,r.iH)(!1),u=(0,r.iH)({name:"",price:0}),s=(0,r.iH)("update");function f(e){u.value=e,s.value="update",o.value=!0}function v(){u.value={name:"",price:0},s.value="create",o.value=!0}function w(){switch(s.value){case"create":e.createDestination(u.value).catch((e=>{l(e,"Error al crear destino")})).finally((()=>{o.value=!1}));break;case"update":e.updateDestination(Number(u.value.id),u.value).catch((e=>{l(e,"Error al actualizar destino")})).finally((()=>{o.value=!1}));break}}function b(t){t&&e.deleteDestination(t).finally((()=>{o.value=!1}))}return{destinations:i,editDestinationPopup:o,form:u,formMode:s,editDest:f,newDest:v,onSubmit:w,remove:b}}});var v=a(4260),w=a(4379),b=a(151),g=a(5589),k=a(4554),q=a(6778),D=a(7030),_=a(8689),y=a(4842),h=a(9367),C=a(8240),W=a(7518),Z=a.n(W);const x=(0,v.Z)(f,[["render",s]]),Q=x;Z()(f,"components",{QPage:w.Z,QCard:b.Z,QCardSection:g.Z,QIcon:k.Z,QDialog:q.Z,QChip:D.Z,QForm:_.Z,QInput:y.Z,QCardActions:h.Z,QBtn:C.Z})}}]);