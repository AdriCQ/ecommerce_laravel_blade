"use strict";(self["webpackChunkecommerce_admin"]=self["webpackChunkecommerce_admin"]||[]).push([[100],{3100:(e,l,o)=>{o.r(l),o.d(l,{default:()=>Z});var a=o(3673),t=o(8880),n=o(2323);const r={class:"row q-col-gutter-sm justify-center"},u={class:"text-body1 text-center text-grey-9"};function i(e,l,o,i,d,c){const m=(0,a.up)("q-btn"),s=(0,a.up)("q-card-section"),p=(0,a.up)("user-widget"),f=(0,a.up)("q-card"),v=(0,a.up)("q-input"),b=(0,a.up)("q-select"),g=(0,a.up)("q-card-actions"),w=(0,a.up)("q-form"),y=(0,a.up)("q-dialog"),h=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(h,{padding:""},{default:(0,a.w5)((()=>[(0,a.Wm)(f,null,{default:(0,a.w5)((()=>[(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m,{color:"primary",icon:"mdi-plus",class:"full-width","text-color":"dark",label:"Nuevo Colaborador",onClick:e.create},null,8,["onClick"])])),_:1}),(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a._)("div",r,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.users,((l,o)=>((0,a.wg)(),(0,a.iD)("div",{class:"col-xs-12 col-sm-3",key:`user-${o}`},[(0,a.Wm)(p,{class:"cursor-pointer",user:l,onClick:o=>e.update(Number(l.id),l)},null,8,["user","onClick"])])))),128))])])),_:1})])),_:1}),(0,a.Wm)(y,{modelValue:e.popup,"onUpdate:modelValue":l[5]||(l[5]=l=>e.popup=l)},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{style:{"min-width":"20rem"}},{default:(0,a.w5)((()=>[(0,a.Wm)(w,{onSubmit:(0,t.iM)(e.onSubmit,["prevent"])},{default:(0,a.w5)((()=>[(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a._)("div",u,(0,n.zw)("create"===e.mode?"Nuevo":"Modificar")+" Colaborador",1)])),_:1}),(0,a.Wm)(s,{class:"q-gutter-y-sm"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{modelValue:e.form.name,"onUpdate:modelValue":l[0]||(l[0]=l=>e.form.name=l),type:"text",label:"Nombre"},null,8,["modelValue"]),(0,a.Wm)(v,{modelValue:e.form.email,"onUpdate:modelValue":l[1]||(l[1]=l=>e.form.email=l),type:"email",label:"Email"},null,8,["modelValue"]),(0,a.Wm)(v,{modelValue:e.form.phone,"onUpdate:modelValue":l[2]||(l[2]=l=>e.form.phone=l),type:"tel",label:"Teléfono"},null,8,["modelValue"]),(0,a.Wm)(b,{modelValue:e.form.type,"onUpdate:modelValue":l[3]||(l[3]=l=>e.form.type=l),options:["RASTREO"],label:"Tipo",filled:""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m,{type:"submit",loading:e.loading,color:"primary","text-color":"dark",label:""+("create"===e.mode?"Crear":"Modificar")},null,8,["loading","label"]),"update"===e.mode?((0,a.wg)(),(0,a.j4)(m,{key:0,loading:e.loading,color:"negative",label:"Eliminar",icon:"mdi-delete",onClick:l[4]||(l[4]=l=>e.remove(Number(e.form.id)))},null,8,["loading"])):(0,a.kq)("",!0)])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1},8,["modelValue"])])),_:1})}var d=o(1959),c=o(8825),m=o(9582),s=o(8872),p=o(1239);const f=(0,a.aZ)({name:"UsersPage",components:{"user-widget":(0,a.RC)((()=>o.e(629).then(o.bind(o,7629))))},setup(){const e=(0,s.Ey)(s.Qw),l=(0,c.Z)(),o=(0,m.tv)(),{errorHandler:t,deleteDialog:n}=(0,p.y)(l,o);(0,a.wF)((()=>{e.listAction().catch((e=>{t(e,"Error listando usuarios")}))}));const r=(0,d.iH)({email:"",name:"",phone:"",type:"RASTREO"}),u=(0,d.iH)(!1),i=(0,d.iH)("update"),f=(0,d.iH)(!1),v=(0,d.Fl)((()=>e.collaborators));function b(){i.value="create",r.value={email:"",name:"",phone:"",type:"RASTREO"},f.value=!0}function g(l){n({title:"Eliminar Colaborador",message:"¿Está seguro que desea eliminar el colaborador?",onOk:()=>{u.value=!0,e.deleteAction(l).catch((e=>{t(e,"Error eliminando colaborador")})).finally((()=>{f.value=!1,u.value=!1}))}})}function w(){u.value=!0,"create"===i.value?e.createAction(r.value).then((()=>{l.notify({type:"positive",message:"Colaborador creado",icon:"mdi-account-plus",position:"center",actions:[{icon:"mdi-close",color:"white",handler:()=>{}}]})})).catch((e=>{t(e,"Error creando colaborador")})).finally((()=>{f.value=!1,u.value=!1})):e.updateAction(Number(r.value.id),r.value).then((()=>{l.notify({type:"positive",message:"Colaborador Actualizado",icon:"mdi-account-plus",position:"center",actions:[{icon:"mdi-close",color:"white",handler:()=>{}}]})})).catch((e=>{t(e,"Error actualizando colaborador")})).finally((()=>{f.value=!1,u.value=!1}))}function y(e,l){i.value="update",r.value=l,f.value=!0}return{form:r,loading:u,mode:i,popup:f,users:v,create:b,onSubmit:w,remove:g,update:y}}});var v=o(4260),b=o(4379),g=o(151),w=o(5589),y=o(2165),h=o(6778),C=o(5269),W=o(4842),k=o(7757),V=o(9367),_=o(7518),q=o.n(_);const E=(0,v.Z)(f,[["render",i]]),Z=E;q()(f,"components",{QPage:b.Z,QCard:g.Z,QCardSection:w.Z,QBtn:y.Z,QDialog:h.Z,QForm:C.Z,QInput:W.Z,QSelect:k.Z,QCardActions:V.Z})}}]);