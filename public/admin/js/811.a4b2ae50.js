"use strict";(self["webpackChunkecommerce_admin"]=self["webpackChunkecommerce_admin"]||[]).push([[811],{7811:(e,a,o)=>{o.r(a),o.d(a,{default:()=>b});var t=o(3673);function n(e,a,o,n,r,c){const i=(0,t.up)("q-uploader"),s=(0,t.up)("q-card-section"),d=(0,t.up)("q-card");return(0,t.wg)(),(0,t.j4)(d,null,{default:(0,t.w5)((()=>[(0,t.Wm)(s,{class:"row q-gutter-y-sm q-gutter-x-sm"},{default:(0,t.w5)((()=>[(0,t.Wm)(i,{factory:e.factoryFn,label:"Cambiar Imagen Principal",accept:"image/*",onFactoryFailed:e.factoryFail,onFailed:e.factoryFail,onUploaded:e.onUploaded},null,8,["factory","onFactoryFailed","onFailed","onUploaded"])])),_:1})])),_:1})}var r=o(1959),c=o(1768),i=o(8872),s=o(8825);const d=(0,t.aZ)({name:"Imagesproduct",emits:["update-product"],props:{product:{type:Object,required:!0}},setup(e,a){const{product:o}=(0,r.BK)(e),t=(0,i.Ey)(i.Qw),n=(0,s.Z)(),d=(0,r.iH)(0);function u(){return d.value++,new Promise((e=>{setTimeout((()=>{e({url:`${c.baseURL}/api/products/${o.value.id}/main-image`,method:"POST",headers:[{name:"Authorization",value:`Bearer ${t.apiToken}`}],fieldName:"image"})}),200)}))}function p(e){const o=e.xhr;o.response&&o.response.id&&a.emit("update-product",o.response),n.notify({message:"Imagen Actualizada",type:"positive",position:"center"})}function l(e){console.log(e)}return Object.assign(Object.assign({},e),{baseURL:c.baseURL,factoryFn:u,factoryFail:l,onUploaded:p})}});var u=o(4260),p=o(151),l=o(5589),m=o(4027),f=o(1745),g=o(7518),y=o.n(g);const F=(0,u.Z)(d,[["render",n]]),b=F;y()(d,"components",{QCard:p.Z,QCardSection:l.Z,QImg:m.Z,QUploader:f.Z})}}]);