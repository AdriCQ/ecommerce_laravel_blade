"use strict";(self["webpackChunkecommerce_admin"]=self["webpackChunkecommerce_admin"]||[]).push([[753],{7753:(e,t,a)=>{a.r(t),a.d(t,{default:()=>_});var l=a(3673),n=a(8880);const i={class:"row q-col-gutter-sm justify-center"};function o(e,t,a,o,u,r){const s=(0,l.up)("q-btn"),d=(0,l.up)("q-card-section"),c=(0,l.up)("destination-widget"),m=(0,l.up)("q-card"),p=(0,l.up)("q-chip"),f=(0,l.up)("q-input"),w=(0,l.up)("q-card-actions"),v=(0,l.up)("q-form"),b=(0,l.up)("q-dialog"),g=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(g,{padding:"",class:"q-gutter-y-xs"},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{class:"text-grey-9"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(s,{color:"primary",icon:"mdi-plus",class:"full-width","text-color":"dark",label:"Añadir Destino",onClick:e.newDest},null,8,["onClick"])])),_:1}),(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l._)("div",i,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.destinations,((t,a)=>((0,l.wg)(),(0,l.iD)("div",{class:"col-xs-12 col-sm-3",key:`dest-${a}`},[(0,l.Wm)(c,{class:"cursor-pointer",destination:t,onClick:a=>e.editDest(t)},null,8,["destination","onClick"])])))),128))])])),_:1})])),_:1}),(0,l.Wm)(b,{modelValue:e.editDestinationPopup,"onUpdate:modelValue":t[3]||(t[3]=t=>e.editDestinationPopup=t)},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{style:{"min-width":"20rem",width:"30rem"}},{default:(0,l.w5)((()=>["update"===e.formMode?((0,l.wg)(),(0,l.j4)(d,{key:0,class:"q-pa-none q-ma-none"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{style:{"z-index":"100"},clickable:"",class:"float-right","text-color":"negative",icon:"mdi-delete",label:"Eliminar",onClick:t[0]||(t[0]=t=>e.remove(e.form.id))})])),_:1})):(0,l.kq)("",!0),(0,l.Wm)(v,{onSubmit:(0,n.iM)(e.onSubmit,["prevent"]),class:"q-gutter-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,null,{default:(0,l.w5)((()=>[(0,l.Wm)(f,{modelValue:e.form.price,"onUpdate:modelValue":t[1]||(t[1]=t=>e.form.price=t),type:"number",min:"0",step:"0.01",label:"Precio"},null,8,["modelValue"]),(0,l.Wm)(f,{modelValue:e.form.name,"onUpdate:modelValue":t[2]||(t[2]=t=>e.form.name=t),type:"text",label:"Nombre"},null,8,["modelValue"])])),_:1}),(0,l.Wm)(w,null,{default:(0,l.w5)((()=>[(0,l.Wm)(s,{label:""+("create"===e.formMode?"Crear":"Actualizar"),type:"submit",color:"primary","text-color":"dark"},null,8,["label"])])),_:1})])),_:1},8,["onSubmit"])])),_:1})])),_:1},8,["modelValue"])])),_:1})}var u=a(1959),r=a(8872),s=a(8825),d=a(9582),c=a(1239);const m=(0,l.aZ)({name:"DestinationsPage",components:{"destination-widget":(0,l.RC)((()=>a.e(623).then(a.bind(a,7623))))},setup(){const e=(0,r.Ey)(r.xj),t=(0,s.Z)(),a=(0,d.tv)(),{errorHandler:n,deleteDialog:i}=(0,c.y)(t,a);(0,l.wF)((()=>{e.listDestination()}));const o=(0,u.Fl)((()=>e.destinations)),m=(0,u.iH)(!1),p=(0,u.iH)({name:"",price:0}),f=(0,u.iH)("update");function w(e){p.value=e,f.value="update",m.value=!0}function v(){p.value={name:"",price:0},f.value="create",m.value=!0}function b(){switch(f.value){case"create":e.createDestination(p.value).catch((e=>{n(e,"Error al crear destino")})).finally((()=>{m.value=!1}));break;case"update":e.updateDestination(Number(p.value.id),p.value).catch((e=>{n(e,"Error al actualizar destino")})).finally((()=>{m.value=!1}));break}}function g(t){t&&i({title:"Eliminar Destino",message:"¿Está seguro que desea eliminar el destino?",onOk:()=>{e.deleteDestination(t).finally((()=>{m.value=!1}))}})}return{destinations:o,editDestinationPopup:m,form:p,formMode:f,editDest:w,newDest:v,onSubmit:b,remove:g}}});var p=a(4260),f=a(4379),w=a(151),v=a(5589),b=a(2165),g=a(6778),k=a(7030),D=a(5269),y=a(4842),q=a(9367),W=a(7518),h=a.n(W);const C=(0,p.Z)(m,[["render",o]]),_=C;h()(m,"components",{QPage:f.Z,QCard:w.Z,QCardSection:v.Z,QBtn:b.Z,QDialog:g.Z,QChip:k.Z,QForm:D.Z,QInput:y.Z,QCardActions:q.Z})}}]);