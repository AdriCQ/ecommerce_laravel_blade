"use strict";(self["webpackChunkecommerce_admin"]=self["webpackChunkecommerce_admin"]||[]).push([[741],{8741:(l,e,a)=>{a.r(e),a.d(e,{default:()=>Z});var o=a(3673),t=a(8880);const u=(0,o._)("div",{class:"text-h6 text-center"},"Cambiar Configuración",-1),n=(0,o._)("div",{class:"text-body1 text-bold"},"Enlaces Redes Sociales",-1),m=(0,o._)("div",{class:"text-body1 text-bold"},"Wallets",-1);function d(l,e,a,d,i,r){const c=(0,o.up)("q-card-section"),s=(0,o.up)("q-input"),p=(0,o.up)("q-btn"),f=(0,o.up)("q-card-actions"),b=(0,o.up)("q-form"),V=(0,o.up)("q-card");return(0,o.wg)(),(0,o.j4)(V,{class:"col-xs-12 col-sm-6"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[u])),_:1}),(0,o.Wm)(b,{onSubmit:(0,t.iM)(l.onSubmit,["prevent"]),class:"q-gutter-md"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{class:"q-gutter-y-sm"},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{modelValue:l.form.name,"onUpdate:modelValue":e[0]||(e[0]=e=>l.form.name=e),type:"text",label:"Nombre"},null,8,["modelValue"]),(0,o.Wm)(s,{modelValue:l.form.description,"onUpdate:modelValue":e[1]||(e[1]=e=>l.form.description=e),type:"textarea",label:"Descripción"},null,8,["modelValue"]),(0,o.Wm)(s,{modelValue:l.form.address,"onUpdate:modelValue":e[2]||(e[2]=e=>l.form.address=e),type:"text",label:"Dirección"},null,8,["modelValue"]),(0,o.Wm)(s,{modelValue:l.form.email,"onUpdate:modelValue":e[3]||(e[3]=e=>l.form.email=e),type:"email",label:"Email"},null,8,["modelValue"]),(0,o.Wm)(s,{modelValue:l.form.phone,"onUpdate:modelValue":e[4]||(e[4]=e=>l.form.phone=e),type:"tel",label:"Teléfono 1"},null,8,["modelValue"]),(0,o.Wm)(s,{modelValue:l.form.phone_extra,"onUpdate:modelValue":e[5]||(e[5]=e=>l.form.phone_extra=e),type:"tel",label:"Teléfono 2"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[n,(0,o.Wm)(s,{modelValue:l.form.social_facebook,"onUpdate:modelValue":e[6]||(e[6]=e=>l.form.social_facebook=e),label:"Facebook"},null,8,["modelValue"]),(0,o.Wm)(s,{modelValue:l.form.social_instagram,"onUpdate:modelValue":e[7]||(e[7]=e=>l.form.social_instagram=e),label:"Instagram"},null,8,["modelValue"]),(0,o.Wm)(s,{modelValue:l.form.social_youtube,"onUpdate:modelValue":e[8]||(e[8]=e=>l.form.social_youtube=e),label:"Youtube"},null,8,["modelValue"]),(0,o.Wm)(s,{modelValue:l.form.social_twitter,"onUpdate:modelValue":e[9]||(e[9]=e=>l.form.social_twitter=e),label:"Twitter"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[m,(0,o.Wm)(s,{modelValue:l.form.wallet_type,"onUpdate:modelValue":e[10]||(e[10]=e=>l.form.wallet_type=e),label:"Tipo de Wallet"},null,8,["modelValue"]),(0,o.Wm)(s,{modelValue:l.form.wallet,"onUpdate:modelValue":e[11]||(e[11]=e=>l.form.wallet=e),label:"Wallet"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(s,{modelValue:l.appKey,"onUpdate:modelValue":e[12]||(e[12]=e=>l.appKey=e),label:"AppKey",readonly:""},null,8,["modelValue"])])),_:1}),(0,o.Wm)(f,null,{default:(0,o.w5)((()=>[(0,o.Wm)(p,{"text-color":"dark",loading:l.loading,color:"primary",type:"submit",label:"Guardar"},null,8,["loading"])])),_:1})])),_:1},8,["onSubmit"])])),_:1})}var i=a(1959),r=a(3333),c=a(8825),s=a(9582),p=a(1239),f=a(8872);const b=(0,o.aZ)({name:"ConfigForm",setup(){const l=(0,c.Z)(),e=(0,s.tv)(),{errorHandler:a}=(0,p.y)(l,e),t=(0,f.Ey)(f.xj);(0,o.wF)((()=>{t.getConfig().then((l=>{m.value=l.config,u.value=l.appKey,console.log({appKey:l})})).catch((l=>{a(l,"No se pudo obtener la configuración")}))}));const u=(0,i.iH)(""),n=(0,i.Fl)((()=>t.config)),m=(0,i.iH)({address:"",currency:"BTC",email:"",name:"",open:!1,phone:"",description:"",phone_extra:"",social_facebook:null,social_instagram:null,social_twitter:null,social_youtube:null,wallet:null,wallet_type:null}),d=(0,i.iH)(!1);function b(){d.value=!0,""===m.value.social_facebook&&(m.value.social_facebook=null),""===m.value.social_youtube&&(m.value.social_youtube=null),""===m.value.social_instagram&&(m.value.social_instagram=null),""===m.value.social_twitter&&(m.value.social_twitter=null),t.updateConfig(m.value).then((e=>{l.notify({icon:"mdi-check",message:"Configuración actualizada",position:"center",type:"positive",actions:[{icon:"mdi-close",color:"white",handler:()=>{}}]}),(0,r.Z)({title:e.name})})).catch((l=>{console.log(l),a(l,"No se pudo actualizar la configuración")})).finally((()=>{d.value=!1}))}return{appKey:u,config:n,form:m,loading:d,onSubmit:b}}});var V=a(4260),_=a(151),y=a(5589),g=a(5269),w=a(8886),W=a(4842),v=a(7757),h=a(9367),x=a(2165),U=a(7518),k=a.n(U);const C=(0,V.Z)(b,[["render",d]]),Z=C;k()(b,"components",{QCard:_.Z,QCardSection:y.Z,QForm:g.Z,QToggle:w.Z,QInput:W.Z,QSelect:v.Z,QCardActions:h.Z,QBtn:x.Z})}}]);